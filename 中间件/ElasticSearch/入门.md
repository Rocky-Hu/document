http://www.ruanyifeng.com/blog/2017/08/elasticsearch.html

https://www.tutorialspoint.com/elasticsearch/elasticsearch_installation.htm

启动：

~~~
# 指定jdk
export JAVA_HOME=/opt/elasticsearch-7.9.2/jdk
export PATH=$JAVA_HOME/bin:$PATH

# 添加jdk判断
if [ -x "$JAVA_HOME/bin/java" ]; then
        JAVA="/opt/elasticsearch-7.9.2/jdk/bin/java"
else
        JAVA=`which java`
fi

$ cd elasticsearch-2.1.0/bin
$ [root@localhost bin]# su esuser
$ ./elasticsearch
~~~

~~~
[root@localhost ~]# curl -X GET "http://localhost:9200"
{
  "name" : "localhost.localdomain",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "ZwZUOCXbTZqN8D_4xc-rxw",
  "version" : {
    "number" : "7.9.2",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "d34da0ea4a966c4e49417f2da2f244e3e97b4e6e",
    "build_date" : "2020-09-23T00:45:33.626720Z",
    "build_snapshot" : false,
    "lucene_version" : "8.6.2",
    "minimum_wire_compatibility_version" : "6.8.0",
    "minimum_index_compatibility_version" : "6.0.0-beta1"
  },
  "tagline" : "You Know, for Search"
}
~~~

https://faceghost.com/question/372001

# 问题

## 1. max number of threads [3753] for user [XX] is too low, increase to at least [4096]

设置/etc/security/limits.conf

~~~
* soft nproc 5000
* hard nproc 5000
root soft nproc 5000
root hard nproc 5000
~~~

设置/etc/sysctl.conf

添加如下配置

~~~
vm.max_map_count=655360
~~~

## 2. elasticsearch_server.json (Permission denied)

~~~
sudo chown -R 用户名 安装目录
sudo chgrp -R 用户名 安装目录
~~~


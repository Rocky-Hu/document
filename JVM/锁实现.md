![对象头中锁标志](../images/jvm/对象头中锁标志.png)

轻量级锁中有线程自旋次数超过一定次数或者自旋的线程到达cpu核数时，为了减轻CPU的消耗，会进行锁升级，也就是向重量级锁升级。重量级锁需要向内核申请，每个重量级锁会有一个队列，抢锁的线程会进入到这个队列，而不用像轻量级锁那样自旋消耗CPU。

![锁升级过程](../images/jvm/锁升级过程.png)


















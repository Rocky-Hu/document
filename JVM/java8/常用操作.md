# List -> Map

~~~
Map<String, Person> collect = personList.stream().collect(Collectors.toMap(Person::getName, Function.identity()));
~~~

有相同key会出现下面的错误：

~~~
Exception in thread "main" java.lang.IllegalStateException: Duplicate key org.newbie.javaer.java8.filter.Person@3941a79c
	at java.util.stream.Collectors.lambda$throwingMerger$0(Collectors.java:133)
	at java.util.HashMap.merge(HashMap.java:1254)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1320)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.newbie.javaer.java8.filter.PersonTest.main(PersonTest.java:25)
~~~

这样写：

~~~
collect =  personList.stream().collect(Collectors.toMap(Person::getName, Function.identity(), (o1,o2)->{return o1;}));
~~~


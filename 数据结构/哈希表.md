# 一、哈希

Hash，一般翻译做“散列”，也有直接音译为“哈希”的，就是把任意长度的输入，通过散列算法，变换成固定长度的输出，该输出就是散列值。简单的说就是一种将任意长度的消息压缩到某一固定长度的消息摘要的函数。

所有散列函数都有如下的基本特征：

- 根据同一散列函数计算出的散列值如果不同，输入值肯定也不同。
- 根据同一散列函数计算出的散列值如果相同，输入值不一定相同。

# 二、哈希碰撞的解决方法

## 2.1. 开放地址法

在开放地址法中，若数据不能直接放在由哈希函数计算出来的数组下标所指的单元时，就要寻找数组的其他位置。下面要探索开放地址法的三种方法，它们在找下一个空白单元时使用的方法不同。这三种方法分别是：

- 线性探测
- 二次探测
- 再哈希法

### 2.1.1. 线性探测

在线性探测中，线性地查找空白单元。如果5421是要插入数据的位置，它已经被占用了，那么就使用5422，然后5423，依次类推，数组下标一直递增，直到找到空位。这就叫做线性探测，因为它沿着数组的下标一步一步顺序地查找空白单元。

### 2.1.2. 二次探测

在开放地址法的线性探测中会发生聚集。一旦聚集形成，它会变得越来越大，那么哈希化后的落在聚集范围内的数据项，都要一步一步移动，并且插在聚集的最后，因此使聚集变得更大。聚集越大，它增长得也越快。

二次探测是防止聚集产生的一种尝试。思想是探测相隔较远的单元，而不是和原始位置相邻的单元。

二次探测消除了在线性探测中产生的聚集问题，这种聚集问题叫做原始聚集。然而，二次探测产生了另外一种，更细的聚集问题，二次聚集。

### 2.1.3. 再哈希法

为了消除原始聚集和二次聚集，可以使用另外的一个方法：再哈希法。二次聚集产生的原因是，二次探测的算法产生的探测序列步长总是固定的：1,4,9,16，依此类推。

现在需要的一种方法是产生一种依赖关键字的探测序列，而不是每个关键字都一样。那么，不同的关键字即使映射到相同的数组下标，也可以使用不同的探测序列。

方法是把关键字用不同的哈希函数再做一遍哈希化，用这个结果作为步长。对指定的关键字，步长在整个探测中是不变的，不过不同的关键字使用不同的步长。

经验说明，第二个哈希函数必须具备如下特点：

- 和第一个哈希函数不同
- 不能输出0（否则，将没有步长；每次探测都要原地踏步，算法将陷入死循环）。

## 2.2. 链地址法

开放地址法中，通过在哈希表中再寻找一个空位解决冲突问题。另一个方法是在哈希表每个单元设置链表。某个数据项的关键字值还是像通常一样映射到哈希表的单元，而数据项本身插入到这个单元的链表中。其他同样映射到这个位置的数据项只需要加到链表中；不需要在原始的数组中寻找空位。


































































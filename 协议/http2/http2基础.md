HTTP/2主要用来解决HTTP/1的性能问题。新版本的协议与原来的协议有很大的不同，新增了如下概念：

- 二进制协议
- 多路复用
- 流量控制功能
- 数据流优先级
- 首部压缩
- 服务端推送

HTTP/1和HTTP/2的主要区别之一是，HTTP/2是一个二进制的、基于数据包的协议，而HTTP/1是完全基于文本的。

HTTP/1.1引入了管道化和分块编码。分块编码允许先发送消息体的一部分，当其余的部分可用时再接着发。这时HTTP消息体被分成多个块，客户端可以在完整收到所有数据之前就开始处理这些分块的内容（服务端也可以收到分块请求）。

HTTP/2变成了一个完全的二进制协议，HTTP消息被分成清晰定义的数据帧发送。所有的HTTP/2消息都使用分块的编码技术，这是标准行为，不需要显式地设置。

这里的帧和支撑HTTP连接的TCP数据包类似。当收到所有的数据帧后，可以将它们组合为完整的HTTP消息。

HTTP/2允许在单个连接上同时执行多个请求，每个HTTP请求或响应使用不同的流。通过使用二进制分帧层，给每个帧分配一个流标识符，以支持同时发出多个独立请求。当接收到该流的所有帧时，接收方可以将帧组合成完整消息。

> 我们首先分析了影响 HTTP/1.1 效率的三个主要因素：TCP 的慢启动、多条 TCP 连接竞争带宽和队头阻塞。

















































